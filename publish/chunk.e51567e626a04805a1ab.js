(window.webpackJsonp=window.webpackJsonp||[]).push([[9,10,39],{171:function(t,i,e){"use strict";var s=e(20),o=e(35),a=e(24),n=e(73),r=e(36),c=e(27),d=e(15),p=e(2),l=e(5),u=e(190),h=e(192),g=e(191),b=e(19),y=e(178);const m=(t,i)=>{if("object"==typeof window){t=`productCard${t}Html`;const e="function"==typeof window[t]?window[t](i):window[t];if("string"==typeof e)return e}};var _={name:"ProductCard",components:{ALink:u.a,APicture:h.a,APrices:g.a},props:{product:Object,productId:String,isSmall:Boolean,headingTag:{type:String,default:"h3"},buyText:String,transitionClass:{type:String,default:"animated fadeIn"},canAddToCart:{type:Boolean,default:!0},ecomPassport:{type:Object,default:()=>b.a},accountUrl:{type:String,default:"/app/#/account/"},isLoaded:Boolean,installmentsOption:Object,discountOption:Object},data:()=>({body:{},isLoading:!1,isWaitingBuy:!1,isHovered:!1,isFavorite:!1,error:""}),computed:{i19addToFavorites:()=>Object(o.a)(s.m),i19outOfStock:()=>Object(o.a)(s.Pc),i19unavailable:()=>Object(o.a)(s.fe),ratingHtml(){return m("Rating",this.body)},buyHtml(){return m("Buy",this.body)},footerHtml(){return m("Footer",this.body)},name(){return Object(a.a)(this.body)},strBuy(){return this.buyText||"object"==typeof window&&window.productCardBuyText||Object(o.a)(s.y)},isInStock(){return Object(n.a)(this.body)},isActive(){return this.body.available&&this.body.visible&&this.isInStock},isLogged:()=>b.a.checkAuthorization(),discount(){const{body:t}=this;return Object(r.a)(t)?Math.round(100*(t.base_price-Object(c.a)(t))/t.base_price):0}},methods:{setBody(t){this.body=Object.assign({},t),delete this.body.body_html,delete this.body.body_text,delete this.body.inventory_records,delete this.body.price_change_records,this.isFavorite=Object(y.a)(this.body._id,this.ecomPassport)},fetchItem(){this.productId&&(this.isLoading=!0,Object(p.g)({url:`/products/${this.productId}.json`}).then((t=>{let{data:i}=t;this.$emit("update:product",i),this.setBody(i),this.$emit("update:is-loaded",!0)})).catch((t=>{console.error(t),this.body.name&&this.body.slug&&this.body.pictures||(this.error=Object(o.a)(s.V))})).finally((()=>{this.isLoading=!1})))},toggleFavorite(){this.isLogged&&(this.isFavorite=Object(y.b)(this.body._id,this.ecomPassport))},qtd(t,i){const{body:e}=this;let s=$("[product_quantity='"+t+"']"),o=parseInt(s.closest("label").find("input").val());o+=parseInt(i),o<1&&(o=1),s.closest("label").find("input").val(o)},buy(){const t=this.body;this.$emit("buy",{product:t}),this.canAddToCart&&(this.isWaitingBuy=!0,Object(p.g)({url:`/products/${t._id}.json`}).then((i=>{let{data:s}=i;const o=["variations","customizations","kit_composition"];for(let t=0;t<o.length;t++){const i=s[o[t]];if(i&&i.length)return Promise.all([e.e(0),e.e(2),e.e(5),e.e(3),e.e(19)]).then(e.bind(null,400)).then((t=>{new d.a({render:i=>i(t.default,{props:{product:s}})}).$mount(this.$refs.quickview)}))}const{quantity:a,price:n}=s;l.a.addProduct({...t},"",parseInt(document.querySelector("[product_quantity='"+t._id+"']").value))})).catch((i=>{console.error(i),window.location=`/${t.slug}`})).finally((()=>{this.isWaitingBuy=!1})))}},created(){this.product&&(this.setBody(this.product),void 0===this.product.available&&(this.body.available=!0),void 0===this.product.visible&&(this.body.visible=!0)),this.isLoaded||this.fetchItem()}};i.a=_},179:function(t,i,e){"use strict";e.d(i,"a",(function(){return s})),e.d(i,"b",(function(){return o}));var s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"product-card",class:{"product-card--inactive":t.body._id&&!t.isActive,"product-card--small":t.isSmall},attrs:{"data-product-id":t.body._id,"data-sku":t.body.sku},on:{mouseover:function(i){t.isHovered=!0}}},[e("transition",{attrs:{"enter-active-class":t.transitionClass}},[t.isLoading?t._e():e("section",[t._t("discount-tag",(function(){return[t.isActive&&t.discount>0?e("span",{staticClass:"product-card__offer-stamp"},[e("i",{staticClass:"i-arrow-down"}),t._v(" "),e("b",[t._v(t._s(t.discount))]),t._v("% ")]):t._e()]}),null,{discount:t.discount}),t._t("body",(function(){return[e("a-link",{staticClass:"product-card__link",attrs:{href:"/"+t.body.slug,title:t.name}},[t._t("header"),e("div",{staticClass:"product-card__pictures"},[t.body.pictures&&t.body.pictures.length?t._l(t.body.pictures.slice(0,2).reverse(),(function(i,s){return 1===t.body.pictures.length||1===s||t.isHovered?e("a-picture",{key:s,staticClass:"product-card__picture",attrs:{src:i,"can-calc-height":!1}}):t._e()})):e("a-picture",{staticClass:"product-card__picture"})],2),t._t("title",(function(){return[e(t.headingTag,{tag:"component",staticClass:"product-card__name"},[t._v(" "+t._s(t.name)+" ")])]}))],2)]})),t._t("rating",(function(){return[t._m(0)]})),t.body.available&&t.body.visible?t.isInStock?[t._t("prices",(function(){return[e("a-prices",{staticClass:"product-card__prices",attrs:{product:t.body,"installments-option":t.installmentsOption,"discount-option":t.discountOption}})]})),e("div",{staticClass:"product-card__buy fade"},[t._t("buy",(function(){return[t.buyHtml?e("div",{domProps:{innerHTML:t._s(t.buyHtml)}}):t._e(),e("label",{staticClass:"qtde-adicionar-carrinho",staticStyle:{width:"281px"}},[e("button",{staticClass:"minus",attrs:{type:"button"},on:{click:function(i){return t.qtd(t.body._id,-1)}}},[e("svg",{staticClass:"ionicon",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[e("title",[t._v("Remove")]),e("path",{attrs:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M400 256H112"}})])]),e("input",{staticClass:"qtde-carrinho",attrs:{type:"number",min:"1",value:"1",name:"qtde-carrinho",product_quantity:t.body._id}}),e("button",{attrs:{type:"button"},on:{click:function(i){return t.qtd(t.body._id,1)}}},[e("svg",{staticClass:"ionicon",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[e("title",[t._v("Add")]),e("path",{attrs:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M256 112v288M400 256H112"}})])])]),e("button",{staticClass:"btn btn-primary",class:t.isSmall?"btn-sm":"btn-block",attrs:{type:"button",disabled:t.isWaitingBuy},on:{click:t.buy}},[t.isWaitingBuy?e("span",{staticClass:"product-card__buy-loading spinner-grow spinner-grow-sm",attrs:{role:"status"}},[e("span",{staticClass:"sr-only"},[t._v("Loading...")])]):t._e(),t._t("buy-button-content",(function(){return[e("div",[t._v(" "+t._s(t.strBuy)+" ")])]}))],2)]}))],2)]:t._t("out-of-stock",(function(){return[e("p",{staticClass:"badge badge-dark mt-auto"},[t._v(" "+t._s(t.i19outOfStock)+" ")])]})):t._t("unavailable",(function(){return[e("p",{staticClass:"badge badge-warning mt-auto"},[t._v(" "+t._s(t.i19unavailable)+" ")])]})),t._t("favorite",(function(){return[e("a",{staticClass:"btn product-card__favorite fade",attrs:{href:t.isLogged?null:t.accountUrl},on:{click:t.toggleFavorite}},[e("i",{staticClass:"i-heart mr-1",class:t.isFavorite?"active":null})])]})),t._t("footer",(function(){return[t.footerHtml?e("div",{domProps:{innerHTML:t._s(t.footerHtml)}}):t._e()]}))],2)]),t.isLoading?[t._t("default"),t.error?e("div",{staticClass:"alert alert-warning small",attrs:{role:"alert"}},[t._v(" "+t._s(t.error)+" ")]):t._e()]:t._e(),e("div",{ref:"quickview"})],2)},o=[function(){var t=this,i=t.$createElement;return(t._self._c||i)("div",{staticClass:"product-card__rating",attrs:{"data-sku":t.body.sku},domProps:{innerHTML:t._s(t.ratingHtml)}})}]},238:function(t,i,e){"use strict";e(4);var s=e(20),o=e(26),a=e(35),n=e(71),r=e(27),c=e(2),d=e(241),p=e(243),l=e.n(p),u=e(249);const h="object"==typeof window&&window.localStorage,g="shipping-to-zip",b=t=>{const i={};return["product_id","variation_id","sku","name","quantity","inventory","currency_id","currency_symbol","price","final_price","dimensions","weight"].forEach((e=>{void 0!==t[e]&&(i[e]=t[e])})),i};var y={name:"ShippingCalculator",components:{CleaveInput:l.a,ShippingLine:u.a},props:{zipCode:String,canSelectServices:Boolean,canInputZip:{type:Boolean,default:!0},countryCode:{type:String,default:o.$ecomConfig.get("country_code")},shippedItems:{type:Array,default:()=>[]},shippingResult:{type:Array,default:()=>[]},shippingData:{type:Object,default:()=>({})},skipAppIds:Array,shippingAppsSort:{type:Array,default:()=>window.ecomShippingApps||[]}},data:()=>({localZipCode:null,localShippedItems:[],amountSubtotal:null,shippingServices:[],selectedService:null,hasPaidOption:!1,freeFromValue:null,isScheduled:!1,retryTimer:null,isWaiting:!1,hasCalculated:!1}),computed:{i19add$1ToEarn:()=>Object(a.a)(s.j),i19calculateShipping:()=>Object(a.a)(s.D),i19zipCode:()=>Object(a.a)(s.te),i19freeShipping:()=>Object(a.a)(s.Bb).toLowerCase(),cleaveOptions(){return"BR"===this.countryCode?{blocks:[5,3],delimiter:"-"}:{blocks:[30]}},freeFromPercentage(){return this.hasPaidOption&&this.amountSubtotal<this.freeFromValue?Math.round(100*this.amountSubtotal/this.freeFromValue):null},productionDeadline(){let t=0;return this.shippedItems.forEach((i=>{if(i.quantity&&i.production_time){const{days:e,cumulative:s}=i.production_time,o=s?e*i.quantity:e;o>t&&(t=o)}})),t}},methods:{formatMoney:n.a,updateZipCode(){this.$emit("update:zip-code",this.localZipCode)},parseShippingOptions(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.freeFromValue=null,this.shippingServices=[],t.length&&(t.forEach((t=>{const{validated:i,error:e,response:s}=t;if(!i||e)return;if(this.skipAppIds&&this.skipAppIds.includes(t.app_id))return;s.shipping_services.forEach((i=>{this.shippingServices.push({app_id:t.app_id,...i})}));const o=s.free_shipping_from_value;o&&(!this.freeFromValue||this.freeFromValue>o)&&(this.freeFromValue=o)})),this.shippingServices.length?(this.shippingServices=this.shippingServices.sort(((t,i)=>{const e=t.shipping_line.total_price-i.shipping_line.total_price;return e<0?-1:e>0?1:t.shipping_line.delivery_time&&i.shipping_line.delivery_time&&t.shipping_line.delivery_time.days<i.shipping_line.delivery_time.days?-1:1})),this.hasPaidOption=Boolean(this.shippingServices.find((t=>t.shipping_line.total_price||t.shipping_line.price))),Array.isArray(this.shippingAppsSort)&&this.shippingAppsSort.length&&(this.shippingServices=Object(d.a)(this.shippingServices,this.shippingAppsSort))):i?this.scheduleRetry():this.fetchShippingServices(!0))},scheduleRetry(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e4;clearTimeout(this.retryTimer),this.retryTimer=setTimeout((()=>{this.localZipCode&&!this.shippingServices.length&&this.shippedItems.length&&this.fetchShippingServices(!0)}),t)},fetchShippingServices(t){this.isScheduled||(this.isScheduled=!0,setTimeout((()=>{this.isScheduled=!1;const{storeId:i}=this;let e="/calculate_shipping.json";this.skipAppIds&&this.skipAppIds.length&&(e+="?skip_ids=",this.skipAppIds.forEach(((t,i)=>{i>0&&(e+=","),e+=`${t}`})));const s={...this.shippingData,to:{zip:this.localZipCode,...this.shippingData.to}};this.localShippedItems.length&&(s.items=this.localShippedItems,s.subtotal=this.amountSubtotal),this.isWaiting=!0,Object(c.c)({url:e,method:"POST",storeId:i,data:s}).then((i=>{let{data:e}=i;return this.parseShippingOptions(e.result,t)})).catch((i=>{t||this.scheduleRetry(4e3),console.error(i)})).finally((()=>{this.hasCalculated=!0,this.isWaiting=!1}))}),this.hasCalculated?150:50))},submitZipCode(){this.updateZipCode(),h&&h.setItem(g,this.localZipCode),this.fetchShippingServices()},setSelectedService(t){this.canSelectServices&&(this.$emit("select-service",this.shippingServices[t]),this.selectedService=t)}},watch:{shippedItems:{handler(){setTimeout((()=>{this.localShippedItems=this.shippedItems.map(b);const{amountSubtotal:t}=this;this.amountSubtotal=this.shippedItems.reduce(((t,i)=>t+Object(r.a)(i)*i.quantity),0),this.hasCalculated&&(this.canSelectServices||t!==this.amountSubtotal||!this.shippingServices.length&&!this.isWaiting)&&this.fetchShippingServices()}),50)},deep:!0,immediate:!0},localZipCode(t){"BR"===this.countryCode&&8===t.replace(/\D/g,"").length&&this.submitZipCode()},zipCode:{handler(t){t&&(this.localZipCode=t)},immediate:!0},skipAppIds(){this.fetchShippingServices()},shippingResult:{handler(t){t.length&&this.parseShippingOptions(t)},immediate:!0}},created(){if(!this.zipCode&&h){const t=h.getItem(g);t&&(this.localZipCode=t)}}};i.a=y}}]);